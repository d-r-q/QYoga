<div class="client__container" id="clientCardTab">
    <form class="form__client-card" id="createClientForm" method="post" th:action="${formAction}"
          th:fragment="createClientForm">

        <fieldset class="mb-4">
            <legend>Контактные данные</legend>

            <div class="row mb-3">
                <div class="col-12 col-sm-4 mb-3">
                    <div class="form-floating ">
                        <input class="form-control"
                               id="firstName"
                               maxlength="32"
                               minlength="2"
                               name="firstName"
                               placeholder="Имя"
                               required
                               th:value="${client?.firstName ?: ''}"
                               type="text"
                        >
                        <label for="firstName">Имя <span class="text-danger">*</span></label>
                    </div>
                </div>
                <div class="col-12 col-sm-4 mb-3">
                    <div class="form-floating">
                        <input class="form-control"
                               id="ClientLastName"
                               maxlength="32"
                               minlength="2"
                               name="lastName"
                               placeholder="Фамилия"
                               required
                               th:value="${client?.lastName ?: ''}"
                               type="text">
                        <label for="ClientLastName">Фамилия <span class="text-danger">*</span></label>
                    </div>
                </div>
                <div class="col-12 col-sm-4 mb-3">
                    <div class="form-floating">
                        <input class="form-control"
                               id="ClientMiddleName"
                               name="middleName"
                               placeholder="Отчество"
                               th:value="${client?.middleName ?: ''}"
                               type="text">
                        <label for="ClientMiddleName">Отчество</label>
                    </div>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-12 col-sm-4 mb-3">
                    <div class="form-floating">
                        <input class="form-control"
                               id="ClientPhone"
                               name="phoneNumber"
                               placeholder="+7 (999) 000-0000"
                               required
                               th:classappend="${duplicatedPhone} ? 'is-invalid' : ''"
                               th:value="${client?.phoneNumber ?: ''}"
                               type="tel">
                        <label for="ClientPhone">Номер телефона <span class="text-danger">*</span></label>
                        <div class="invalid-feedback" id="duplicatedPhoneErrorMessage">
                            К данному номеру телефона уже привязана карточка клиента.
                        </div>
                    </div>
                </div>
                <div class="col-12 col-sm-4 mb-3">
                    <div class="form-floating">
                        <input class="form-control" id="email" name="email"
                               placeholder="example@mail.ru" th:value="${client?.email ?: ''}"
                               type="email">
                        <label for="email">Email</label>
                    </div>
                </div>
                <div class="col-12 col-sm-4 mb-3">
                    <div class="form-floating">
                        <input class="form-control"
                               id="birthDate"
                               name="birthDate"
                               placeholder="дд.мм.гггг"
                               th:value="${client?.birthDate != null} ? ${#temporals.format(client.birthDate, T(pro.qyoga.l10n.DateFormatsKt).RUSSIAN_DATE_FORMAT_PATTERN)}"
                               type="text">
                        <label for="birthDate">Дата рождения</label>
                    </div>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col">
                    <div class="form-floating">
                        <input class="form-control w-100" id="address"
                               name="address" placeholder=""
                               th:value="${client?.address ?: ''}" type="text" value="">
                        <label for="birthDate">Адрес (город, улица, дом, квартира)</label>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col mb-2">
                    <div class="form-floating">
                        <select class="form-control w-100 q-input form-select mb-2"
                                id="distributionSourceType"
                                name="distributionSourceType"
                                th:value="${client?.distributionSource?.type}">
                            <option value="">Не указан</option>
                            <option th:each="value : ${T(pro.qyoga.core.clients.cards.model.DistributionSourceType).entries}"
                                    th:selected="${client?.distributionSource?.type == value}"
                                    th:text="${value.label}" th:value="${value.name}">
                            </option>
                        </select>
                        <label class="form-label" for="distributionSourceType">Как вы о нас узнали?</label>
                    </div>
                </div>
                <div class="col">
                    <div class="form-floating">
                        <input class="form-control q-input" id="distributionSourceComment"
                               name="distributionSourceComment"
                               placeholder="Комментарий"
                               th:value="${client?.distributionSource?.comment ?: ''}"
                               type="text">
                        <label class="form-label" for="distributionSourceComment">Комментарий</label>
                    </div>
                </div>
            </div>
        </fieldset>


        <fieldset class="mb-4">
            <legend>Жалобы</legend>
            <div class="textarea__container row g-0 input-group">
                <div class="col">
                    <textarea class="form-control w-100 mt-2" cols="20" id="ClientComplaints"
                              name="complaints"
                              placeholder="Введите данные"
                              rows="10" th:text="${client?.complaints ?: ''}"></textarea>
                </div>
            </div>
        </fieldset>

        <fieldset class="mb-4">
            <legend>Анамнез</legend>
            <div class="textarea__container row g-0 input-group">
                <div class="col">
                    <textarea class="form-control w-100 mt-2" cols="20" id="ClientAnamnesis"
                              name="anamnesis"
                              placeholder="Введите данные"
                              rows="10" th:text="${client?.anamnesis ?: ''}"></textarea>
                </div>
            </div>
        </fieldset>

        <div class="row g-2 justify-content-end">
            <div class="col-6 col-sm-auto text-center">
                <a class="btn btn-outline-danger" style="min-width: 110px;"
                   th:href="${'/therapist/clients' + (clientId != null ? '/' + clientId + '/journal' : '')}">
                    Отмена
                </a>
            </div>
            <div class="col-6 col-sm-auto text-center">
                <button class="btn btn-outline-success" name="confirmButton" style="min-width: 110px;">
                    Сохранить
                </button>
            </div>
        </div>
    </form>
</div>

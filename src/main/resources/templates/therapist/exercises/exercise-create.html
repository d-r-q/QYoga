<!DOCTYPE html>
<html lang="en">
<head>
    <div th:replace="~{fragments/header::header (titleName=${'Список упражнений'})}"></div>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<body class="sb-nav-fixed">

<div th:replace="~{fragments/headerNavPanel :: headerNavPanel}"></div>

<div id="layoutSidenav">

    <div th:replace="~{fragments/leftNavPanel.html :: leftNavPanel}"></div>

    <div id="layoutSidenav_content">
        <main>
            <div class="container">
                <h1 class="mt-4">Упражнения</h1>

                <form class="mt-4"
                      hx-post="/exercises/create" id="createExerciseForm" x-data="{
                                  title: ''
                              }">
                    <div class="form-group row mb-3">
                        <label class="col-sm-2 col-form-label" for="title">Название упражнения</label>
                        <div class="col-sm-7">
                            <input class="form-control" id="title" name="title" placeholder="Собака мордой вниз"
                                   required type="text">
                        </div>
                    </div>
                    <div class="form-group row mb-3">
                        <label class="col-sm-2 col-form-label" for="contradictions">Противопоказания</label>
                        <div class="col-sm-7">
                            <input class="form-control" id="contradictions" name="contradictions"
                                   placeholder="Травма сухожилия бицепса бедра. Травма запястья"
                                   required type="text">
                        </div>
                    </div>
                    <div class="form-group row mb-3">
                        <label class="col-sm-2 col-form-label" for="indications">Показания</label>
                        <div class="col-sm-7">
                            <input class="form-control" id="indications" name="indications"
                                   placeholder="Вытяжение позвоночника."
                                   required type="text">
                        </div>
                    </div>
                    <div class="form-group row mb-3">
                        <label class="col-sm-2 col-form-label" for="purposes">Терапевтические задачи</label>
                        <div class="col-sm-7">
                            <input class="form-control" hi id="purposes" name="purposes"
                                   placeholder="Улучшение мобильности плечевых суставов, Вытяжение задней поверхности ног"
                                   required type="text">
                            <div class="form-text">Список терапевтических задач через запятую</div>
                        </div>
                    </div>
                    <div class="form-group row mb-3">
                        <label class="col-sm-2 col-form-label" for="duration">Длительность (минуты)</label>
                        <div class="col-sm-7">
                            <input class="form-control" id="duration" max="180" min="0" name="duration"
                                   required step="0.5" type="number" value="1">
                        </div>
                    </div>
                    <div class="form-group row mb-3">
                        <label class="col-sm-2 col-form-label" for="type">Тип упражнения</label>
                        <div class="col-sm-7">
                            <select class="form-select col-sm-7" id="type" name="exerciseTypeId">
                                <option value="1">Разминка</option>
                                <option selected value="2">Мобилизация</option>
                                <option value="3">Укрепление</option>
                                <option value="4">Вытяжение</option>
                                <option value="5">Расслабление</option>
                                <option value="6">Тракция</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row mb-3 col-sm-9">
                        <label for="description">Описание:</label>
                        <textarea class="form-control" id="description" name="description"
                                  placeholder="Глубоко вдохните..."
                                  required
                                  rows="10"></textarea>
                    </div>

                    <fieldset class="mb-3 row col-sm-9 justify-content-center" id="steps" x-data="{steps: ['']}">
                        <legend>Шаги:</legend>
                        <template x-for="(step, idx) in steps">
                            <div class="form-group mb-3 g-0">
                                <input :name="`steps[${idx}].id`" type="hidden">
                                <input :name="`steps[${idx}].imageId`" type="hidden">
                                <textarea :name="`steps[${idx}].description`" class="form-control"
                                          placeholder="Глубоко вдохните..."
                                          rows="10"
                                          x-model="steps[idx]">
                            </textarea>
                            </div>
                        </template>
                        <input @click="steps.push('')" class="btn btn-secondary mt-3 mb-4 col-sm-8 text-center" type="button"
                               value="+">
                    </fieldset>

                    <input class="btn btn-primary" type="submit" value="Сохранить">
                </form>
            </div>

        </main>
        <footer class="py-4 bg-light mt-auto" th:insert="~{/fragments/footer.html :: footer}"></footer>

    </div>
</div>

</body>
</html>
